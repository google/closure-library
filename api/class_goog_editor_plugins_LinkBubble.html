<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>LinkBubble</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_editor_plugins.html">goog.editor.plugins</a></div><div class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l46">View Source</a></div><h1>class LinkBubble</h1><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; <a href="class_goog_editor_Plugin.html">goog.editor.Plugin</a>
          &#x2514; <a href="class_goog_editor_plugins_AbstractBubblePlugin.html">goog.editor.plugins.AbstractBubblePlugin</a>
              &#x2514; goog.editor.plugins.LinkBubble</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Property bubble plugin for links.</p><h2 class="main">new LinkBubble(<wbr>var_args)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>var_args<code>...<a href="class_goog_editor_plugins_LinkBubble_Action.html">goog.editor.plugins.LinkBubble.Action</a></code><dd><p>List of  extra actions supported by the bubble.</p></dl></div></div><h2>Instance Methods</h2><div id="createBubbleContents" class="function"><div><h3>createBubbleContents(<wbr>bubbleContainer)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l341">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractBubblePlugin.html#createBubbleContents">goog.editor.plugins.AbstractBubblePlugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>bubbleContainer<code>Element</code></dl></div></div></div></div><hr class="fn-sep"><div id="execCommandInternal" class="function"><div><h3>execCommandInternal(<wbr>command, var_args)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l245">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#execCommandInternal">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>var_args<code>...*</code></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleTargetFromSelection" class="function"><div><h3>getBubbleTargetFromSelection(<wbr>selectedElement)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l267">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractBubblePlugin.html#getBubbleTargetFromSelection">goog.editor.plugins.AbstractBubblePlugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>selectedElement<code>Element</code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>Element</code></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleTitle" class="function"><div><h3>getBubbleTitle()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l325">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractBubblePlugin.html#getBubbleTitle">goog.editor.plugins.AbstractBubblePlugin</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getBubbleType" class="function"><div><h3>getBubbleType()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l319">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractBubblePlugin.html#getBubbleType">goog.editor.plugins.AbstractBubblePlugin</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getTargetUrl" class="function"><div><h3>getTargetUrl()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l309">code »</a></span></h3><p>Returns the target element url for the bubble.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The url href.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTestLinkMessage" class="function"><div><h3>getTestLinkMessage()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l335">code »</a></span></h3><p>Returns the message to display for testing a link.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The message for testing a link.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getTrogClassId" class="function"><div><h3>getTrogClassId()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l232">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#getTrogClassId">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="isInvalidUrl" class="function"><div><h3>isInvalidUrl(<wbr>url)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l438">code »</a></span></h3><p>Returns whether the URL should be considered invalid. This always returns false in the base class, and should be overridden by subclasses that wish to impose validity rules on URLs.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>url<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The url to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the URL should be considered invalid.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isSupportedCommand" class="function"><div><h3>isSupportedCommand(<wbr>command)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l238">code »</a></span></h3><p><b>Overrides: </b><a href="class_goog_editor_Plugin.html#isSupportedCommand">goog.editor.Plugin</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>command<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="onShow" class="function"><div><h3>onShow()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l505">code »</a></span></h3><p>Sets the proper state for the action links.</p><p><b>Overrides: </b><a href="class_goog_editor_plugins_AbstractBubblePlugin.html#onShow">goog.editor.plugins.AbstractBubblePlugin</a></p></div></div><hr class="fn-sep"><div id="setBlockOpeningUnsafeSchemes" class="function"><div><h3>setBlockOpeningUnsafeSchemes(<wbr>blockOpeningUnsafeSchemes)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l211">code »</a></span></h3><p>Tells the plugin whether to block URLs with schemes not in the whitelist. If blocking is enabled, this plugin will not linkify the link in the bubble popup.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>blockOpeningUnsafeSchemes<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to block non-whitelisted  schemes.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setSafeToOpenSchemes" class="function"><div><h3>setSafeToOpenSchemes(<wbr>schemes)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l225">code »</a></span></h3><p>Sets a whitelist of allowed URL schemes that are safe to open. Schemes should all be in lowercase. If the plugin is set to block opening unsafe schemes, user-entered URLs will be converted to lowercase and checked against this list. The whitelist has no effect if blocking is not enabled.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>schemes<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</code><dd><p>String array of URL schemes to allow (http,  https, etc.).</p></dl></div></div></div></div><hr class="fn-sep"><div id="setTestLinkUrlFn" class="function"><div><h3>setTestLinkUrlFn(<wbr>func)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l299">code »</a></span></h3><p>Set the optional function for getting the &#34;test&#34; link of a url.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>func<code>function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The function to use.</p></dl></div></div></div></div><hr class="fn-sep"><div id="shouldOpenUrl" class="function"><div><h3>shouldOpenUrl(<wbr>url)<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l546">code »</a></span></h3><p>Checks whether the plugin should open the given url in a new window.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>url<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The url to check.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>If the plugin should open the given url in a new window.</p></dl></div></div></div></div><hr class="fn-sep"><div id="stopReferrerLeaks" class="function"><div><h3>stopReferrerLeaks()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l195">code »</a></span></h3><p>Tells the plugin to stop leaking the page&#39;s url via the referrer header when the link text link is clicked. When the user clicks on a link, the browser makes a request for the link url, passing the url of the current page in the request headers. If the user wants the current url to be kept secret (e.g. an unpublished document), the owner of the url that was clicked will see the secret url in the request headers, and it will no longer be a secret. Calling this method will not send a referrer header in the request, just as if the user had opened a blank window and typed the url in themselves.</p></div></div><hr class="fn-sep"><div id="testLink" class="function"><div><h3>testLink()<span class="codelink"><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l422">code »</a></span></h3><p>Tests the link by opening it in a new tab/window. Should be used as the click event handler for the test pseudo-link.</p></div></div><h2>Static Properties</h2><div id="LinkBubble.MSG_INVALID_URL_LINK_BUBBLE" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l163">LinkBubble.MSG_INVALID_URL_LINK_BUBBLE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div><div id="LinkBubble.MSG_LINK_BUBBLE_CHANGE" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l149">LinkBubble.MSG_LINK_BUBBLE_CHANGE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div><div id="LinkBubble.MSG_LINK_BUBBLE_REMOVE" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l156">LinkBubble.MSG_LINK_BUBBLE_REMOVE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div><div id="LinkBubble.MSG_LINK_BUBBLE_TEST_LINK" class="property"><dl><dt><a href="source/closure/goog/editor/plugins/linkbubble.js.src.html#l142">LinkBubble.MSG_LINK_BUBBLE_TEST_LINK</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div><h2>Types</h2><dl><dt><a href="class_goog_editor_plugins_LinkBubble_Action.html">LinkBubble.Action</a><dd><p>Constructor for extra actions that can be added to the link bubble.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>