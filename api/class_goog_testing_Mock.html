<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Mock</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_testing.html">goog.testing</a></div><div class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l167">View Source</a></div><h1>class Mock</h1><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_testing_MockInterface.html">goog.testing.MockInterface</a></code></dl><p>The base class for a mock object.</p><h2 class="main">new Mock(<wbr>objectToMock, opt_mockStaticMethods, opt_createProxy)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>objectToMock<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The object that should be mocked, or  the constructor of an object to mock.</p><dt>opt_mockStaticMethods<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>An optional argument denoting that  a mock should be constructed from the static functions of a class.</p><dt>opt_createProxy<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>=</code><dd><p>An optional argument denoting that  a proxy for the target mock should be created.</p></dl></div></div><h2>Instance Methods</h2><div id="$anyTimes" class="function"><div><h3>$anyTimes()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l487">code »</a></span></h3><p>Allows the expectation to be called any number of times.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$argumentsAsString" class="function"><div><h3>$argumentsAsString(<wbr>args)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l603">code »</a></span></h3><p>Render the provided argument array to a string to help clients with debugging tests.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>args<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;*&gt;</code><dd><p>The arguments passed to the mock.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Human-readable string.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$atLeastOnce" class="function"><div><h3>$atLeastOnce()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l455">code »</a></span></h3><p>Allows the expectation to be called any number of times, as long as it&#39;s called once.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$atMostOnce" class="function"><div><h3>$atMostOnce()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l443">code »</a></span></h3><p>Allows the expectation to be called 0 or 1 times.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$do" class="function"><div><h3>$do(<wbr>expectation, args)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l394">code »</a></span></h3><p>If this expectation defines a function to be called, it will be called and its result will be returned. Otherwise, if the expectation expects to throw, it will throw. Otherwise, this method will return defined value.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>expectation<code><a href="class_goog_testing_MockExpectation.html">goog.testing.MockExpectation</a></code><dd><p>The expectation.</p><dt>args<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;</code><dd><p>The arguments to the method.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>The return value expected by the mock.</p></div></div></div></div><hr class="fn-sep"><div id="$does" class="function"><div><h3>$does(<wbr>func)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l433">code »</a></span></h3><p>Specifies a function to call for currently pending expectation. Note, that using this method overrides declarations made using $returns() and $throws() methods.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>func<code>Function</code><dd><p>The function to call.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$maybeThrow" class="function"><div><h3>$maybeThrow(<wbr>expectation)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l378">code »</a></span></h3><p>If the expectation expects to throw, this method will throw.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>expectation<code><a href="class_goog_testing_MockExpectation.html">goog.testing.MockExpectation</a></code><dd><p>The expectation.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$mockMethod" class="function"><div><h3>$mockMethod(<wbr>name)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l333">code »</a></span></h3><p>The function that replaces all methods on the mock object.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the method being mocked.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>In record mode, returns the mock object. In replay mode, returns  whatever the creator of the mock set as the return value.</p></div></div></div></div><hr class="fn-sep"><div id="$never" class="function"><div><h3>$never()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l476">code »</a></span></h3><p>Disallows the expectation from being called.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$once" class="function"><div><h3>$once()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l465">code »</a></span></h3><p>Allows the expectation to be called exactly once.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$recordAndThrow" class="function"><div><h3>$recordAndThrow(<wbr>ex)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l545">code »</a></span></h3><p>Throws an exception and records that an exception was thrown.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>ex<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Exception.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><h1>ex.</h1></dl></div></div></div></div><hr class="fn-sep"><div id="$recordCall" class="function"><div><h3>$recordCall(<wbr>name, args)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l369">code »</a></span></h3><p>Records an actual method call, intended to be overridden by a subclass. The subclass must find the pending expectation and return the correct value.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the method being called.</p><dt>args<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;</code><dd><p>The arguments to the method.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><p>The return expected by the mock.</p></div></div></div></div><hr class="fn-sep"><div id="$recordExpectation" class="function"><div><h3>$recordExpectation()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l357">code »</a></span></h3><p>Records the currently pending expectation, intended to be overridden by a subclass.</p></div></div><hr class="fn-sep"><div id="$registerArgumentListVerifier" class="function"><div><h3>$registerArgumentListVerifier(<wbr>methodName, fn)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l320">code »</a></span></h3><p>Registers a verfifier function to use when verifying method argument lists.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>methodName<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the method for which the verifierFn  should be used.</p><dt>fn<code>Function</code><dd><p>Argument list verifier function. Should take 2 argument  arrays as arguments, and return true if they are considered equivalent.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$replay" class="function"><div><h3>$replay()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l510">code »</a></span></h3><p>Switches from recording to replay mode.</p><p><b>Specified by: </b><a href="interface_goog_testing_MockInterface.html#$replay">goog.testing.MockInterface</a></p></div></div><hr class="fn-sep"><div id="$reset" class="function"><div><h3>$reset()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l520">code »</a></span></h3><p>Resets the state of this mock object. This clears all pending expectations without verifying, and puts the mock in recording mode.</p><p><b>Specified by: </b><a href="interface_goog_testing_MockInterface.html#$reset">goog.testing.MockInterface</a></p></div></div><hr class="fn-sep"><div id="$returns" class="function"><div><h3>$returns(<wbr>val)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l409">code »</a></span></h3><p>Specifies a return value for the currently pending expectation.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>val<code>*</code><dd><p>The return value.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$throwCallException" class="function"><div><h3>$throwCallException(<wbr>name, args, opt_expectation)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l623">code »</a></span></h3><p>Throw an exception based on an incorrect method call.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of method called.</p><dt>args<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;*&gt;</code><dd><p>Arguments passed to the mock.</p><dt>opt_expectation<code>?<a href="class_goog_testing_MockExpectation.html">goog.testing.MockExpectation</a>=</code><dd><p>Expected next call,  if any.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$throwException" class="function"><div><h3>$throwException(<wbr>comment, opt_message)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l534">code »</a></span></h3><p>Throws an exception and records that an exception was thrown.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>comment<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>A short comment about the exception.</p><dt>opt_message<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>A longer message about the exception.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>JsUnitException object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$throws" class="function"><div><h3>$throws(<wbr>val)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l420">code »</a></span></h3><p>Specifies a value for the currently pending expectation to throw.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>val<code>*</code><dd><p>The value to throw.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$times" class="function"><div><h3>$times(<wbr>times)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l499">code »</a></span></h3><p>Specifies the number of times the expectation should be called.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>times<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The number of times this method will be called.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_testing_Mock.html">goog.testing.Mock</a></code><dd><p>This mock object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="$verify" class="function"><div><h3>$verify()<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l570">code »</a></span></h3><p>Verify that all of the expectations were met. Should be overridden by subclasses.</p><p><b>Specified by: </b><a href="interface_goog_testing_MockInterface.html#$verify">goog.testing.MockInterface</a></p></div></div><hr class="fn-sep"><div id="$verifyCall" class="function"><div><h3>$verifyCall(<wbr>expectation, name, args)<span class="codelink"><a href="source/closure/goog/testing/mock.js.src.html#l584">code »</a></span></h3><p>Verifies that a method call matches an expectation.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>expectation<code><a href="class_goog_testing_MockExpectation.html">goog.testing.MockExpectation</a></code><dd><p>The expectation to check.</p><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the called method.</p><dt>args<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;*&gt;</code><dd><p>The arguments passed to the mock.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the call matches the expectation.</p></dl></div></div></div></div><h2>Instance Properties</h2><div id="$argumentListVerifiers_" class="property"><dl><dt><a href="source/closure/goog/testing/mock.js.src.html#l248">$argumentListVerifiers_</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Map of argument name to optional argument list verifier function.</p></dl></div><div id="$pendingExpectation" class="property"><dl><dt><a href="source/closure/goog/testing/mock.js.src.html#l266">$pendingExpectation</a><code><a href="class_goog_testing_MockExpectation.html">goog.testing.MockExpectation</a></code><dd><p>The expectation currently being created. All methods that modify the current expectation return the Mock object for easy chaining, so this is where we keep track of the expectation that&#39;s currently being modified.</p></dl></div><div id="$proxy" class="property"><dl><dt><a href="source/closure/goog/testing/mock.js.src.html#l241">$proxy</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>A proxy for the mock. This can be used for dependency injection in lieu of the mock if the test requires a strict instanceof check.</p></dl></div><h2>Static Properties</h2><div id="Mock.LOOSE" class="property"><dl><dt><a href="source/closure/goog/testing/mock.js.src.html#l204">Mock.LOOSE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Option that may be passed when constructing function, method, and constructor mocks. Indicates that the expected calls should be accepted in any order.</p></dl></div><div id="Mock.STRICT" class="property"><dl><dt><a href="source/closure/goog/testing/mock.js.src.html#l214">Mock.STRICT</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Option that may be passed when constructing function, method, and constructor mocks. Indicates that the expected calls should be accepted in the recorded order only.</p></dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>