<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>WebChannelBase</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_labs_net_webChannel.html">goog.labs.net.webChannel</a></div><div class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l75">View Source</a></div><h1>class WebChannelBase</h1><div class="tags"><span>struct</span></div><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_labs_net_webChannel_Channel.html">goog.labs.net.webChannel.Channel</a></code></dl><p>This WebChannel implementation is branched off goog.net.BrowserChannel for now. Ongoing changes to goog.net.BrowserChannel will be back ported to this implementation as needed.</p><h2 class="main">new WebChannelBase(<wbr>opt_options, opt_clientVersion, opt_conn)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_options<code>{clientProtocolHeaderRequired: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>), concurrentRequestLimit: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>), messageHeaders: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>), messageUrlParams: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>&lt;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>), supportsCrossDomainXhr: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>), testUrl: (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)}=</code><dd><p>Configuration for the  WebChannel instance.</p><dt>opt_clientVersion<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>An application-specific version number  that is sent to the server when connected.</p><dt>opt_conn<code><a href="class_goog_labs_net_webChannel_ConnectionState.html">goog.labs.net.webChannel.ConnectionState</a>=</code><dd><p>Previously determined connection  conditions.</p></dl></div></div><h2>Instance Methods</h2><div id="connect" class="function"><div><h3>connect(<wbr>testPath, channelPath, opt_extraParams, opt_oldSessionId, opt_oldArrayId)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l519">code »</a></span></h3><p>Starts the channel. This initiates connections to the server.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>testPath<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The path for the test connection.</p><dt>channelPath<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The path for the channel connection.</p><dt>opt_extraParams<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Extra parameter keys and values to add to  the requests.</p><dt>opt_oldSessionId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Session ID from a previous session.</p><dt>opt_oldArrayId<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code><dd><p>The last array ID from a previous session.</p></dl></div></div></div></div><hr class="fn-sep"><div id="correctHostPrefix" class="function"><div><h3>correctHostPrefix(<wbr>serverHostPrefix)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1412">code »</a></span></h3><p>Decides which host prefix should be used, if any. If there is a handler, allows the handler to validate a host prefix provided by the server, and optionally override it.</p><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#correctHostPrefix">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>serverHostPrefix<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The host prefix provided by the server.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The host prefix to actually use, if any. Will return null  if the use of host prefixes was disabled via setAllowHostPrefix().</p></dl></div></div></div></div><hr class="fn-sep"><div id="createDataUri" class="function"><div><h3>createDataUri(<wbr>hostPrefix, path, opt_overridePort)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1787">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#createDataUri">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>hostPrefix<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>path<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>opt_overridePort<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>=</code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_Uri.html">goog.Uri</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="createXhrIo" class="function"><div><h3>createXhrIo(<wbr>hostPrefix)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1830">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#createXhrIo">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>hostPrefix<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_net_XhrIo.html">goog.net.XhrIo</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="disconnect" class="function"><div><h3>disconnect()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l541">code »</a></span></h3><p>Disconnects and closes the channel.</p></div></div><hr class="fn-sep"><div id="getAllowChunkedMode" class="function"><div><h3>getAllowChunkedMode()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l746">code »</a></span></h3><p>Returns whether chunked mode is allowed. In certain debugging situations, it&#39;s useful for the application to have a way to disable chunked mode for a user.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether chunked mode is allowed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAllowHostPrefix" class="function"><div><h3>getAllowHostPrefix()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l710">code »</a></span></h3><p>Returns whether the channel allows the use of a subdomain. There may be cases where this isn&#39;t allowed.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether a host prefix is allowed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getBackChannelMaxRetries" class="function"><div><h3>getBackChannelMaxRetries()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l853">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The max number of back-channel retries, which is a constant.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getBackChannelUri" class="function"><div><h3>getBackChannelUri(<wbr>hostPrefix, path)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1776">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#getBackChannelUri">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>hostPrefix<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dt>path<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_Uri.html">goog.Uri</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getChannelDebug" class="function"><div><h3>getChannelDebug()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l494">code »</a></span></h3><p>Returns the logger.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_labs_net_webChannel_WebChannelDebug.html">goog.labs.net.webChannel.WebChannelDebug</a></code><dd><p>The channel debug object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getConnectionState" class="function"><div><h3>getConnectionState()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1768">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#getConnectionState">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_labs_net_webChannel_ConnectionState.html">goog.labs.net.webChannel.ConnectionState</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getExtraHeaders" class="function"><div><h3>getExtraHeaders()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l641">code »</a></span></h3><p>Returns the extra HTTP headers to add to all the requests sent to the server.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The HTTP headers, or null.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getForwardChannelMaxRetries" class="function"><div><h3>getForwardChannelMaxRetries()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l826">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The max number of forward-channel retries, which will be 0 in fail-fast mode.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getForwardChannelRequestPool" class="function"><div><h3>getForwardChannelRequestPool()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l476">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_labs_net_webChannel_ForwardChannelRequestPool.html">goog.labs.net.webChannel.ForwardChannelRequestPool</a></code><dd><p>The forward channel request pool.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getForwardChannelUri" class="function"><div><h3>getForwardChannelUri(<wbr>path)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1758">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#getForwardChannelUri">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>path<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_Uri.html">goog.Uri</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="getHandler" class="function"><div><h3>getHandler()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l691">code »</a></span></h3><p>Returns the handler used for channel callback events.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_labs_net_webChannel_WebChannelBase_Handler.html">goog.labs.net.webChannel.WebChannelBase.Handler</a></code><dd><p>The handler.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastArrayId" class="function"><div><h3>getLastArrayId()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l888">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The last array id received.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getLastStatusCode" class="function"><div><h3>getLastStatusCode()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l880">code »</a></span></h3><p>Return the last status code received for a request.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The last status code received for a request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getSessionId" class="function"><div><h3>getSessionId()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l570">code »</a></span></h3><p>Returns the session id of the channel. Only available after the channel has been opened.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Session ID.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getState" class="function"><div><h3>getState()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l871">code »</a></span></h3><p>Returns the channel state.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The current state of the channel.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getWireCodec" class="function"><div><h3>getWireCodec()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l484">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The codec object, to be used for the test channel.</p></dl></div></div></div></div><hr class="fn-sep"><div id="hasOutstandingRequests" class="function"><div><h3>hasOutstandingRequests()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l897">code »</a></span></h3><p>Returns whether there are outstanding requests servicing the channel.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>true if there are outstanding requests.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isActive" class="function"><div><h3>isActive()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1843">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#isActive">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="isBuffered" class="function"><div><h3>isBuffered()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l734">code »</a></span></h3><p>Returns whether the channel is buffered or not. This state is valid for querying only after the test connection has completed. This may be queried in the WebChannelBase.okToMakeRequest() callback. A channel may be buffered if the test connection determines that a chunked response could not be sent down within a suitable time.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the channel is buffered.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isClosed" class="function"><div><h3>isClosed()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l862">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#isClosed">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="onRequestComplete" class="function"><div><h3>onRequestComplete(<wbr>request)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1472">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#onRequestComplete">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>request<code><a href="class_goog_labs_net_webChannel_ChannelRequest.html">goog.labs.net.webChannel.ChannelRequest</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="onRequestData" class="function"><div><h3>onRequestData(<wbr>request, responseText)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1285">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#onRequestData">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>request<code><a href="class_goog_labs_net_webChannel_ChannelRequest.html">goog.labs.net.webChannel.ChannelRequest</a></code><dt>responseText<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="sendMap" class="function"><div><h3>sendMap(<wbr>map, opt_context)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l769">code »</a></span></h3><p>Sends a request to the server. The format of the request is a Map data structure of key/value pairs. These maps are then encoded in a format suitable for the wire and then reconstituted as a Map data structure that the server can process.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>map<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The map to send.</p><dt>opt_context<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>The context associated with the map.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllowChunkedMode" class="function"><div><h3>setAllowChunkedMode(<wbr>allowChunkedMode)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l756">code »</a></span></h3><p>Sets whether chunked mode is allowed. In certain debugging situations, it&#39;s useful for the application to have a way to disable chunked mode for a user.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>allowChunkedMode<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether chunked mode is allowed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setAllowHostPrefix" class="function"><div><h3>setAllowHostPrefix(<wbr>allowHostPrefix)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l721">code »</a></span></h3><p>Sets whether the channel allows the use of a subdomain. There may be cases where this isn&#39;t allowed, for example, logging in with troutboard where using a subdomain causes Apache to force the user to authenticate twice.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>allowHostPrefix<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether a host prefix is allowed.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setChannelDebug" class="function"><div><h3>setChannelDebug(<wbr>channelDebug)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l504">code »</a></span></h3><p>Sets the logger.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>channelDebug<code><a href="class_goog_labs_net_webChannel_WebChannelDebug.html">goog.labs.net.webChannel.WebChannelDebug</a></code><dd><p>The channel debug object.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setExtraHeaders" class="function"><div><h3>setExtraHeaders(<wbr>extraHeaders)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l651">code »</a></span></h3><p>Sets extra HTTP headers to add to all the requests sent to the server.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>extraHeaders<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>The HTTP headers, or null.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setFailFast" class="function"><div><h3>setFailFast(<wbr>failFast)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l798">code »</a></span></h3><p>When set to true, this changes the behavior of the forward channel so it will not retry requests; it will fail after one network failure, and if there was already one network failure, the request will fail immediately.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>failFast<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether or not to fail fast.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setForwardChannelMaxRetries" class="function"><div><h3>setForwardChannelMaxRetries(<wbr>retries)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l836">code »</a></span></h3><p>Sets the maximum number of attempts to connect to the server for forward channel requests.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>retries<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The maximum number of attempts.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setForwardChannelRequestTimeout" class="function"><div><h3>setForwardChannelRequestTimeout(<wbr>timeoutMs)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l845">code »</a></span></h3><p>Sets the timeout for a forward channel request.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>timeoutMs<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The timeout in milliseconds.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setHandler" class="function"><div><h3>setHandler(<wbr>handler)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l700">code »</a></span></h3><p>Sets the handler used for channel callback events.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>handler<code><a href="class_goog_labs_net_webChannel_WebChannelBase_Handler.html">goog.labs.net.webChannel.WebChannelBase.Handler</a></code><dd><p>The handler to set.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setReadyStateChangeThrottle" class="function"><div><h3>setReadyStateChangeThrottle(<wbr>throttle)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l662">code »</a></span></h3><p>Sets the throttle for handling onreadystatechange events for the request.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>throttle<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The throttle in ms. A value of zero indicates  no throttle.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setRetryDelay" class="function"><div><h3>setRetryDelay(<wbr>baseDelayMs, delaySeedMs)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1576">code »</a></span></h3><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>baseDelayMs<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The base part of the retry delay, in ms.</p><dt>delaySeedMs<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>A random delay between 0 and this is added to  the base part.</p></dl></div></div></div></div><hr class="fn-sep"><div id="setSupportsCrossDomainXhrs" class="function"><div><h3>setSupportsCrossDomainXhrs(<wbr>supportCrossDomain)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l680">code »</a></span></h3><p>Sets whether cross origin requests are supported for the channel.</p><p>Setting this allows the creation of requests to secondary domains and sends XHRs with the CORS withCredentials bit set to true.</p><p>In order for cross-origin requests to work, the server will also need to set CORS response headers as per: https://developer.mozilla.org/en-US/docs/HTTP_access_control</p><p>See <a href="class_goog_net_XhrIo.html#setWithCredentials"><code>goog.net.XhrIo#setWithCredentials</code></a>.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>supportCrossDomain<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether cross domain XHRs are supported.</p></dl></div></div></div></div><hr class="fn-sep"><div id="shouldUseSecondaryDomains" class="function"><div><h3>shouldUseSecondaryDomains()<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1851">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#shouldUseSecondaryDomains">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="testConnectionFailure" class="function"><div><h3>testConnectionFailure(<wbr>testChannel, errorCode)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1274">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#testConnectionFailure">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>testChannel<code><a href="class_goog_labs_net_webChannel_BaseTestChannel.html">goog.labs.net.webChannel.BaseTestChannel</a></code><dt>errorCode<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code></dl></div></div></div></div><hr class="fn-sep"><div id="testConnectionFinished" class="function"><div><h3>testConnectionFinished(<wbr>testChannel, useChunked)<span class="codelink"><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1254">code »</a></span></h3><p><b>Specified by: </b><a href="interface_goog_labs_net_webChannel_Channel.html#testConnectionFinished">goog.labs.net.webChannel.Channel</a></p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>testChannel<code><a href="class_goog_labs_net_webChannel_BaseTestChannel.html">goog.labs.net.webChannel.BaseTestChannel</a></code><dt>useChunked<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code></dl></div></div></div></div><h2>Static Properties</h2><div id="WebChannelBase.BACK_CHANNEL_MAX_RETRIES" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l387">WebChannelBase.BACK_CHANNEL_MAX_RETRIES</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>Maximum number of attempts to connect to the server for back channel requests.</p></dl></div><div id="WebChannelBase.FORWARD_CHANNEL_RETRY_TIMEOUT" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l379">WebChannelBase.FORWARD_CHANNEL_RETRY_TIMEOUT</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>The timeout in milliseconds for a forward channel request.</p></dl></div><div id="WebChannelBase.INACTIVE_CHANNEL_RETRY_FACTOR" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l404">WebChannelBase.INACTIVE_CHANNEL_RETRY_FACTOR</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>When retrying for an inactive channel, we will multiply the total delay by this number.</p></dl></div><div id="WebChannelBase.LogSaver" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l1860">WebChannelBase.LogSaver</a><code>{addLogRecord: function(<a href="class_goog_debug_LogRecord.html">goog.debug.LogRecord</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>, buffer_: <a href="class_goog_structs_CircularBuffer.html">goog.structs.CircularBuffer</a>, clearBuffer: function(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>, enabled_: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, formatter_: <a href="class_goog_debug_Formatter.html">goog.debug.Formatter</a>, getBuffer: function(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, isEnabled: function(): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, setEnabled: function(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>): <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>}</code><dd><p>A LogSaver that can be used to accumulate all the debug logs so they can be sent to the server when a problem is detected.</p></dl></div><div id="WebChannelBase.OUTSTANDING_DATA_BACKCHANNEL_RETRY_CUTOFF" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l470">WebChannelBase.OUTSTANDING_DATA_BACKCHANNEL_RETRY_CUTOFF</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>A guess at a cutoff at which to no longer assume the backchannel is dead when we are slow to receive data. Number in bytes.</p><p>Assumption: The worst bandwidth we work on is 50 kilobits/sec 50kbits/sec * (1 byte / 8 bits) * 6 sec dead backchannel timeout</p></dl></div><div id="WebChannelBase.RTT_ESTIMATE" class="property"><dl><dt><a href="source/closure/goog/labs/net/webchannel/webchannelbase.js.src.html#l396">WebChannelBase.RTT_ESTIMATE</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>A number in MS of how long we guess the maxmium amount of time a round trip to the server should take. In the future this could be substituted with a real measurement of the RTT.</p></dl></div><h2>Types</h2><dl><dt><a href="enum_goog_labs_net_webChannel_WebChannelBase_ChannelType_.html">WebChannelBase.ChannelType_</a><dd><p>Internal enum type for the two channel types.</p><dt><a href="enum_goog_labs_net_webChannel_WebChannelBase_Error.html">WebChannelBase.Error</a><dd><p>Enum type for identifying an error.</p><dt><a href="class_goog_labs_net_webChannel_WebChannelBase_Handler.html">WebChannelBase.Handler</a><dd><p>Abstract base class for the channel handler</p><dt><a href="enum_goog_labs_net_webChannel_WebChannelBase_State.html">WebChannelBase.State</a><dd><p>Enum type for the channel state machine.</p></dl></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>