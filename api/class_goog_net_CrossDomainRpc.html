<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>CrossDomainRpc</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_net.html">goog.net</a></div><div class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l98">View Source</a></div><h1>class CrossDomainRpc</h1><div class="tags"><span>final</span></div><pre class="inheritance"><a href="class_goog_Disposable.html">goog.Disposable</a>
  &#x2514; <a href="class_goog_events_EventTarget.html">goog.events.EventTarget</a>
      &#x2514; goog.net.CrossDomainRpc</pre><dl><dt>All implemented interfaces:<dd><code><a href="interface_goog_disposable_IDisposable.html">goog.disposable.IDisposable</a></code>, <code><a href="interface_goog_events_Listenable.html">goog.events.Listenable</a></code></dl><p>Creates a new instance of cross domain RPC.</p><p>This class makes use of goog.html.legacyconversions and provides no HTML-type-safe alternative. As such, it is not compatible with code that sets goog.html.legacyconversions.ALLOW_LEGACY_CONVERSIONS to false.</p><h2>Instance Methods</h2><div id="getResponseHeader" class="function"><div><h3>getResponseHeader(<wbr>name)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l882">code »</a></span></h3><p>Gets a response header.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of response header.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Undefined">undefined</a>)</code><dd><p>Value of response header; undefined if not found.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getResponseJson" class="function"><div><h3>getResponseJson()<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l643">code »</a></span></h3><p>If response is JSON, evaluates it to a JavaScript object and returns it; otherwise returns undefined.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code>?(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code><dd><p>JavaScript object if response is in JSON  or undefined.</p></dl></div></div></div></div><hr class="fn-sep"><div id="isSuccess" class="function"><div><h3>isSuccess()<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l652">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether the request completed with a success.</p></dl></div></div></div></div><hr class="fn-sep"><div id="reset" class="function"><div><h3>reset()<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l668">code »</a></span></h3><p>Removes request iframe used.</p></div></div><hr class="fn-sep"><div id="sendRequest" class="function"><div><h3>sendRequest(<wbr>uri, opt_method, opt_params, opt_headers)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l416">code »</a></span></h3><p>Sends a request across domain.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>uri<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Uri to make request to.</p><dt>opt_method<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Method of request. Default is POST.</p><dt>opt_params<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Parameters. Each property is turned into a  request parameter.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Map of headers of the request.</p></dl></div></div></div></div><h2>Instance Properties</h2><div id="responseHeaders" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l121">responseHeaders</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd>No description.</dl></div><div id="responseText" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l125">responseText</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div><div id="status" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l129">status</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd>No description.</dl></div><div id="timeWaitedAfterResponseReady_" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l133">timeWaitedAfterResponseReady_</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd>No description.</dl></div><h2>Static Functions</h2><div id="CrossDomainRpc.send" class="function"><div><h3>CrossDomainRpc.send(<wbr>uri, opt_continuation, opt_method, opt_params, opt_headers)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l220">code »</a></span></h3><p>Sends a request across domain.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>uri<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Uri to make request to.</p><dt>opt_continuation<code>?Function=</code><dd><p>Continuation function to be called  when request is completed. Takes one argument of an event object  whose target has the following properties: &#34;status&#34; is the HTTP  response status code, &#34;responseText&#34; is the response text,  and &#34;headers&#34; is an object with all response headers. The event  target&#39;s getResponseJson() method returns a JavaScript object evaluated  from the JSON response or undefined if response is not JSON.</p><dt>opt_method<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>Method of request. Default is POST.</p><dt>opt_params<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Parameters. Each property is turned into a  request parameter.</p><dt>opt_headers<code>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Map of headers of the request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="CrossDomainRpc.sendResponse" class="function"><div><h3>CrossDomainRpc.sendResponse(<wbr>data, isDataJson, echo, status, headers)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l739">code »</a></span></h3><p>Makes response available for grandparent (requester)&#39;s receiveResponse call to pick up by creating a series of iframes pointed to the dummy URI with a payload (value after either ? or #) carrying a chunk of response data and a response info iframe that tells the grandparent (requester) the readiness of response.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>data<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Response data (string or JSON string).</p><dt>isDataJson<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>true if data is a JSON string; false if just a  string.</p><dt>echo<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code><dd><p>Parameters to echo back  &#34;xdpe:request-id&#34;: Server that produces the response needs to  copy it here to support multiple current XD requests on the same page.  &#34;xdpe:dummy-uri&#34;: URI to a dummy resource that response  iframes point to to gain the domain of the client. This can be an  image (IE) or a CSS file (FF) found on the requester&#39;s page.  Server should copy value from request parameter &#34;xdpe:dummy-uri&#34;.</p><dt>status<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></code><dd><p>HTTP response status code.</p><dt>headers<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Response headers in JSON format.</p></dl></div></div></div></div><hr class="fn-sep"><div id="CrossDomainRpc.setDebugMode" class="function"><div><h3>CrossDomainRpc.setDebugMode(<wbr>flag)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l237">code »</a></span></h3><p>Sets debug mode to true or false. When debug mode is on, response iframes are visible and left behind after their use is finished.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>flag<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Flag to indicate intention to turn debug model on  (true) or off (false).</p></dl></div></div></div></div><hr class="fn-sep"><div id="CrossDomainRpc.setUseFallBackDummyResource" class="function"><div><h3>CrossDomainRpc.setUseFallBackDummyResource(<wbr>useFallBack)<span class="codelink"><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l200">code »</a></span></h3><p>Sets whether a fallback dummy resource (&#34;/robots.txt&#34; on Firefox and Safari and current page on IE) should be used when a suitable dummy resource is not available.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>useFallBack<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd><p>Whether to use fallback or not.</p></dl></div></div></div></div><h2>Static Properties</h2><div id="CrossDomainRpc.HEADER" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l367">CrossDomainRpc.HEADER</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Header prefix.</p></dl></div><div id="CrossDomainRpc.PARAM" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l374">CrossDomainRpc.PARAM</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Parameter prefix.</p></dl></div><div id="CrossDomainRpc.PARAM_ECHO" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l381">CrossDomainRpc.PARAM_ECHO</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Parameter to echo prefix.</p></dl></div><div id="CrossDomainRpc.PARAM_ECHO_DUMMY_URI" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l396">CrossDomainRpc.PARAM_ECHO_DUMMY_URI</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Parameter to echo: dummy resource URI</p></dl></div><div id="CrossDomainRpc.PARAM_ECHO_REQUEST_ID" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l388">CrossDomainRpc.PARAM_ECHO_REQUEST_ID</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Parameter to echo: request id</p></dl></div><div id="CrossDomainRpc.debugMode_" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l238">CrossDomainRpc.debugMode_</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></code><dd>No description.</dl></div><div id="CrossDomainRpc.dummyResourceUri_" class="property"><dl><dt><a href="source/closure/goog/net/crossdomainrpc.js.src.html#l190">CrossDomainRpc.dummyResourceUri_</a><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd>No description.</dl></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>