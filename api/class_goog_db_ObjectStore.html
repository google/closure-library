<!DOCTYPE html><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ObjectStore</title><link href="dossier.css" rel="stylesheet" type="text/css"><header><div><form><div><input type="search" placeholder="Search"></div></form></div></header><main><article><div class="parentlink"><b>Namespace:</b> <a href="namespace_goog_db.html">goog.db</a></div><div class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l50">View Source</a></div><h1>class ObjectStore</h1><div class="tags"><span>final</span></div><p>Creates an IDBObjectStore wrapper object. Object stores have methods for storing and retrieving records, and are accessed through a transaction object. They also have methods for creating indexes associated with the object store. They can only be created when setting the version of the database. Should not be created directly, access object stores through transactions.</p><h2 class="main">new ObjectStore(<wbr>store)</h2><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>store<code>IDBObjectStore</code><dd><p>The backing IndexedDb object.</p></dl></div></div><h2>Instance Methods</h2><div id="add" class="function"><div><h3>add(<wbr>value, opt_key)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l144">code »</a></span></h3><p>Adds an object to the object store. Requires that there is no object with the same key already present.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>value<code>*</code><dd><p>The value to add.</p><dt>opt_key<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;)=</code><dd><p>The key to use. Cannot be used if the  keyPath was specified for the object store. If the keyPath was not  specified but autoIncrement was not enabled, it must be used.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred add request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="clear" class="function"><div><h3>clear()<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l295">code »</a></span></h3><p>Deletes all objects from the store.</p><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred clear request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="count" class="function"><div><h3>count(<wbr>opt_range)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l381">code »</a></span></h3><p>Gets number of records within a key range.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_range<code><a href="class_goog_db_KeyRange.html">goog.db.KeyRange</a>=</code><dd><p>The key range. If undefined, this will  count all records in the object store.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred number of records.</p></dl></div></div></div></div><hr class="fn-sep"><div id="createIndex" class="function"><div><h3>createIndex(<wbr>name, keyPath, opt_parameters)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l328">code »</a></span></h3><p>Creates an index in this object store. Can only be called inside the callback for the Deferred returned from goog.db.IndexedDb#setVersion.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of the index to create.</p><dt>keyPath<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Attribute to index on.</p><dt>opt_parameters<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>=</code><dd><p>Optional parameters object. The only  available option is unique, which defaults to false. If unique is true,  the index will enforce that there is only ever one object in the object  store for each unique value it indexes on.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_db_Index.html">goog.db.Index</a></code><dd><p>The newly created, wrapped index.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>In case of an error creating the index.</p></dl></div></div></div></div><hr class="fn-sep"><div id="deleteIndex" class="function"><div><h3>deleteIndex(<wbr>name)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l364">code »</a></span></h3><p>Deletes an index from the object store. Can only be called inside the callback for the Deferred returned from goog.db.IndexedDb#setVersion.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of the index to delete.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>In case of an error deleting the index.</p></dl></div></div></div></div><hr class="fn-sep"><div id="get" class="function"><div><h3>get(<wbr>key)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l191">code »</a></span></h3><p>Gets an object from the store. If no object is present with that key the result is <code>undefined</code>.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;)</code><dd><p>The key to look up.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred get request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getAll" class="function"><div><h3>getAll(<wbr>opt_range, opt_direction)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l224">code »</a></span></h3><p>Gets all objects from the store and returns them as an array.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_range<code><a href="class_goog_db_KeyRange.html">goog.db.KeyRange</a>=</code><dd><p>The key range. If undefined iterates  over the whole object store.</p><dt>opt_direction<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>The direction. If undefined  moves in a forward direction with duplicates.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred getAll request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getIndex" class="function"><div><h3>getIndex(<wbr>name)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l347">code »</a></span></h3><p>Gets an index.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>name<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>Name of the index to fetch.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_db_Index.html">goog.db.Index</a></code><dd><p>The requested wrapped index.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>In case of an error getting the index.</p></dl></div></div></div></div><hr class="fn-sep"><div id="getName" class="function"><div><h3>getName()<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l64">code »</a></span></h3><div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code><dd><p>The name of the object store.</p></dl></div></div></div></div><hr class="fn-sep"><div id="openCursor" class="function"><div><h3>openCursor(<wbr>opt_range, opt_direction)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l285">code »</a></span></h3><p>Opens a cursor over the specified key range. Returns a cursor object which is able to iterate over the given range.</p><p>Example usage:</p><p><code>  var cursor &#61; objectStore.openCursor(goog.db.Range.bound(&#39;a&#39;, &#39;c&#39;));</code></p><code></code><code><p>var key &#61; goog.events.listen(  cursor, goog.db.Cursor.EventType.NEW_DATA, function() {  // Do something with data.  cursor.next();  });</p></code><code><p>goog.events.listenOnce(  cursor, goog.db.Cursor.EventType.COMPLETE, function() {  // Clean up listener, and perform a finishing operation on the data.  goog.events.unlistenByKey(key);  }); </p></code><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>opt_range<code><a href="class_goog_db_KeyRange.html">goog.db.KeyRange</a>=</code><dd><p>The key range. If undefined iterates  over the whole object store.</p><dt>opt_direction<code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>=</code><dd><p>The direction. If undefined  moves in a forward direction with duplicates.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_db_Cursor.html">goog.db.Cursor</a></code><dd><p>The cursor.</p></dl></div><div class="fn-details"><div><b>Throws</b></div><dl><dt><code><a href="class_goog_db_Error.html">goog.db.Error</a></code><dd><p>If there was a problem opening the cursor.</p></dl></div></div></div></div><hr class="fn-sep"><div id="put" class="function"><div><h3>put(<wbr>value, opt_key)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l125">code »</a></span></h3><p>Adds an object to the object store. Replaces existing objects with the same key.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>value<code>*</code><dd><p>The value to put.</p><dt>opt_key<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;)=</code><dd><p>The key to use. Cannot be used if the  keyPath was specified for the object store. If the keyPath was not  specified but autoIncrement was not enabled, it must be used.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred put request.</p></dl></div></div></div></div><hr class="fn-sep"><div id="remove" class="function"><div><h3>remove(<wbr>key)<span class="codelink"><a href="source/closure/goog/db/objectstore.js.src.html#l160">code »</a></span></h3><p>Removes an object from the store. No-op if there is no object present with the given key.</p><div><div class="fn-details"><div><b>Parameters</b></div><dl><dt>key<code>(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>|<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;?&gt;)</code><dd><p>The key to remove objects under.</p></dl></div><div class="fn-details"><div><b>Returns</b></div><dl><dt><code><a href="class_goog_async_Deferred.html">goog.async.Deferred</a></code><dd><p>The deferred remove request.</p></dl></div></div></div></div></article><nav><h3><a href="index.html">Overview</a></h3><div><input type="checkbox" id="nav-types" checked/><label for="nav-types"><h3><span class="selectable">Types</span></h3></label><div id="nav-types-view"></div></div></nav></main><div class="pre-footer"><div></div></div><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer><script src="types.js"></script><script src="dossier.js"></script>